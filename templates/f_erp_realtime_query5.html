{% extends "bootstrap/base.html" %}

{% block content %}
    <!---------------------------------------------------------------------------------------------------- 
    -
    - main content
    -
    ----------------------------------------------------------------------------------------------------->
    <div class="container-fluid text-primary m-auto">
        
        <div class="row my-4">
            <div class="col-md-12">
                
            </div>
        </div>
        
        <div class="row my-5">
            <!---------------------------------------------------------------------------------------------------- 
             -
             - main content
             -   
             ----------------------------------------------------------------------------------------------------->
            
            <!--------------------------------- 
            -
            - 工廠 ERP - BOM 維護
            -
            ----------------------------------->    
            <div class="col-md-3">
                <div class="card my-2">
                    <div class="card-header">
                        <i class="bi bi-chat-left-text"></i> {{ operation_record_title }}
                    </div>
                    <div class="card-body">
                    <!-----------
                    -
                    - Nav tabs 
                    -
                    ------------->
                    <ul class="nav nav-tabs my-2">
                        <li class="nav-item">
                            <!------ 
                            - 搜尋 
                            --------> 
                            <a class="nav-link active" data-bs-toggle="tab" href="#search"><i class="bi bi-search"></i> 搜尋</a>
                        </li>
                        <li class="nav-item">
                            <!------ 
                            - 統計 
                            --------> 
                            <!--
                            <a class="nav-link" data-bs-toggle="tab" href="#home"><i class="bi bi-chat-left-text"></i> 統計</a>
                            -->
                        </li>
                        
                    </ul>
                    
                    <!------------
                    - 
                    - Tab panes 
                    -
                    -------------->
                    <div class="tab-content">
                        <!------ 
                        - 搜尋 
                        -------->
                        <div class="tab-pane container active">
                          <div class="card" id="search_erp_bom">
                              <div class="card-header">
                                  <i class="bi bi-search"></i> BOM 維護
                              </div>
                              <div class="card-body">
                      
                                  <!-- 產品品號 -->
                                  <div id="load_erp_realtime_query_all_num3_1">
                                    <div class="input-group my-1">
                                        <span class="input-group-text text-success">產品品號</span>
                                        <input class="form-control"  v-model="i_q_c_name" placeholder="">
                                        <select class="form-control" v-model="q_c_name" ref="q_c_name" @:change="select_q_c_name">
                                          <option disabled>請選擇</option>
                                          {% for val in f_ss2_query_res4 %}
                                          <option>{{ val[0] }} _ {{ val[1] }}</option>
                                          {% endfor %}
                                        </select>
                                    </div>
                                    <div>{{ i_q_p_names }}</div>
                                  </div>
                                  
                                  <!-- submit -->
                                  <div class="btn-group justify-content-center">
                                      <button type="button" class="btn btn-primary my-1" id="bom_q_s_submit" name="q_b_w_f_search_submit" @:click="bom_q_s_submit">
                                          <i class="bi bi-send"></i> 搜尋
                                      </button>
                                  </div>

                                  <!-- l_status -->
                                  <div class="text-center align-middle"><input type="text" v-model="l_status" class="form-control l_status" readonly/></div>

                              </div>
                          </div>
                      </div>
                        
                        <!------ 
                        - 統計 
                        -------->
                        <div class="tab-pane container" id="home">
                          <!-- 部門 -->
                          <!--
                          <ul class="list-group my-2">
                            <li class="list-group-item list-group-item-action active">{{ dep_id }} (已結案)</li>
                            {% for val in bpm_statistics_list %}
                            <li class="list-group-item list-group-item-action" id="{{ dep_id }}/{{ val[0] }}" onclick="bpm_expenditure_detail(id)"><i class="bi bi-arrow-right-short"></i> {{ val[0] }} ({{ val[1] }})</li>
                            {% endfor %}
                          </ul>
                          -->
                        </div>

                      </div>    
                    </div>
                </div>
                
            </div>

            <!---------------------------- 
            -
            - 工廠 ERP - BOM 維護
            -
            ------------------------------>    
            <div class="col-md-9 my-2">
                <div class="card">
                    <div class="card-header"><i class="bi bi-chat-left-text"></i> {{ operation_record_title }}</div>
                    
                    <div class="card-body" id="query_content">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs my-2">
                            <!-- 
                            <li class="nav-item">
                              <a class="nav-link active" data-bs-toggle="tab" href="#bpm_expenditure_form_list_account"><i class="bi bi-card-list"></i> {{ user }}</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" data-bs-toggle="tab" href="#bpm_expenditure_form_list_account_done_chart"><i class="bi bi-bar-chart-line"></i> {{ user }} 已結案統計圖</a>
                            </li>
                            -->

                            <li class="nav-item">
                              <a class="nav-link active" data-bs-toggle="tab" href="#f_erp_realtime_query"><i class="bi bi-card-list"></i> BOM 維護</a>
                            </li>
                            
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">

                            <!-----------------
                            - 
                            - BOM 維護
                            -
                            ------------------>
                            <div class="tab-pane container active" id="f_erp_realtime_query3" v-if="f_erp_realtime_query3" v-html="f_erp_realtime_query3">
                               <div class="table-responsive">
                                <table class="table">
                                  <tbody>
                                    <tr>
                                      <td class="text-center align-middle">
                                        <ul style="display: flex; flex-wrap: wrap; justify-content: center; padding: 0; list-style-type: none;">
                                          {% for val in f_ss2_query_res4 %}
                                            <li style="list-style-type: none; display: inline-block; width: 16%;" class="list-inline-item mouse_hover rounded">
                                              <span class="text-primary" v-model="q_c_name" @:click="bom_list_q_s_submit('{{ val[0] }}')">{{ val[0] }}<br>{{ val[1] }}</span> 
                                            </li>
                                          {% endfor %}
                                        </ul>
                                      </td>
                                    </tr>
                                  </tbody>
                                </table> 
                               </div>
                            </div>

                        </div>
                    </div>
             </div>
          </div>
        </div>
    </div>

    <!-- go top -->
    <div id="go_top" class="goto_top"><i class="bi bi-arrow-up"></i></div>
{% endblock content %}

{% block script %}    
    
    <!-- Vue.js 3 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static' , filename='js/index_vue_js_3.js') }}"></script>

    <!-- date picker & rich editor -->
    <script>
      $("#q_s_date").flatpickr();    
      $("#q_e_date").flatpickr();    
      //CKEDITOR.replace('content');
    </script>    
{% endblock script %}


    
